<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex</title>


    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: linear-gradient(to bottom, #f3f3f3, #d1d1d1);
        }

        .pokedex {
            margin: 20px auto;
            max-width: 400px;
            background-color: linear gradient(to bottom, #ffcc00, #ff9900);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .search input {
            margin: 5px;
            padding: 5px;
            width: 150px;
        }

        button {
            padding: 10px;
            margin: 10px;
            width: 150px;
        }

        .pokemon-display {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .pokemon-info img {
            width: 150px;
            height: 150px;
        }

        .pokemon-info h2,
        .pokemon-info p {
            margin: 5px 0;
        }
    </style>


</head>

<body>


    <h1>Pok√©dex</h1>
    <div>
        <input type="text" id="search-name" placeholder="Nome do Pok√©mon">
        <input type="number" id="search-number" placeholder="N√∫mero do Pok√©mon">
        <button id="search-btn">Buscar</button>
    </div>
    <div class="pokedex">
        <div class="screen">
            <img id="pokemon-image" src="" alt="Imagem do Pok√©mon">
            <h2 id="pokemon-name">Nome</h2>
            <p id="pokemon-type">Tipo</p>
        </div>
        <div class="controls">
            <button id="prev-btn">Anterior</button>
            <button id="next-btn">Pr√≥ximo</button>
        </div>
    </div>

    <script>
        /* deixei algumas coisas em ingles por ser mais facil de escrever e v√°rios comentarios sobre 
        o que cada parte faz pra melhor entendimento */


        // a lend√°ria api de pokemon ta aqui üôè
        var apiUrl = 'https://pokeapi.co/api/v2/pokemon/';
        // deixa o primeiro pokemon com id 1, ja q √© o primeiro(n√£o existe pokemon com id 0)
        var currentPokemonId = 1;

        //obtem o nome pelo id 
        var searchNameInput = document.getElementById('search-name');
        //obtem o numero pelo id
        var searchNumberInput = document.getElementById('search-number');
        //obtem o bot√£o de busca pelo id
        var searchButton = document.getElementById('search-btn');
        //obtem os botoes 'anterior' e 'proximo' pelo id
        var prevButton = document.getElementById('prev-btn');
        var nextButton = document.getElementById('next-btn');
        //obtem os elementos que mostram a imagem, nome e tipo do pokemon pelo id
        var pokemonImage = document.getElementById('pokemon-image');
        var pokemonName = document.getElementById('pokemon-name');
        var pokemonType = document.getElementById('pokemon-type');

        //fun√ß√£o para buscar os dados do pokemon na API

        function fetchPokemon(idOrName) {
            //cria a URL para buscar o pokemon com base na id ou nome
            var url = apiUrl + idOrName;

            //faz a requisi√ß√£o para a API usando o comando fetch
            fetch(url)
                .then(function (response) {
                    //verifica se a resposta foi bem sucedida
                    //caso n√£o, emite um alerta e retorna
                    if (!response.ok) {
                        alert("Pok√©mon n√£o encontrado.");
                        return;
                    }
                    /*caso sim, converte a resposta da API para JSON para que os dados recebidos
                    possam ser manipulados/utiliz√°veis como objetos no javascript*/
                    return response.json();
                })
                .then(function (data) {
                    //chama a fun√ß√£o para exibir os dados do pokemon na tela
                    displayPokemon(data);
                })
                .catch(function () {
                    //exibe um alerta caso ocorra algum erro na requisi√ß√£o
                    alert('Erro a buscar Pok√©mon')

                });
        }

        //fun√ß√£o para exibir os dados do pokemon na tela

        function displayPokemon(data) {
            //define a imagem do pokemon usando o sprite frontal fornecido pela API
            pokemonImage.src = data.sprites.front_default;
            //define o nome do pokemon fornecido pela API
            pokemonName.textContent = data.name;
            //define os tipos do pokemon e junta os tipos em uma string separada por v√≠rgulas
            pokemonType.textContent = data.types.map(function (type) {
                return type.type.name; //obt√©m o nome de cada tipo (ex: 'fire', 'water', etc)
            }).join(',');//junta os tipos numa string separada por virgulas
        }

        //Adiciona um evento de clique no bot√£o de busca
        searchButton.addEventListener('click', function () {
            //obt√©m o valor do campo de busca por nome e remove espa√ßos extras ('trim()')
            var name = searchNameInput.value.trim().toLowerCase();
            //obt√©m o valor do campo de busca por n√∫mero 
            var number = searchNumberInput.value.trim();
            /*verifica se o campo de nome ou numero foi preenchido, se 1 deles foi preenchido, 
            busca pelo valor correspondente*/
            if (name) {
                fetchPokemon(name);
            } else if (number) {
                fetchPokemon(number);
            }
        });
        //adiciona eventos de clique nos bot√µes 'anterior' e 'pr√≥ximo'
        prevButton.addEventListener('click', function () {
            //verifica se a id atual √© maior que 1, pois n√£o existe pokemon com id 0
            if (currentPokemonId > 1) {
                currentPokemonId--; //decrementa a id atual
                fetchPokemon(currentPokemonId); //busca o pokemon anterior
            }
        });

        nextButton.addEventListener('click', function () {
            currentPokemonId++; //incrementa a id do pokemon atual
            fetchPokemon(currentPokemonId); //busca o pr√≥ximo pokemon
        });
        //inicializa a pokedex buscando o primeiro pokemon
        fetchPokemon(currentPokemonId);
    </script>
</body>

</html>